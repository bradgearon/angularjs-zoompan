/**
 * angular-zoompan
 * @version v0.0.1 - 2014-02-16
 * @link https://github.com/bradgearon/parfocal
 * @author Brad Gearon <>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
require.config({baseUrl:"src",paths:{angular:"../bower_components/angular/angular","angular-route":"../bower_components/angular-route/angular-route","angular-resource":"../bower_components/angular-resource/angular-resource",jquery:"../bower_components/jquery/jquery",straps:"../bower_components/straps/straps",paper:"../bower_components/paper/src/core/Base",formatter:"../bower_components/paper/src/util/Formatter",matrix:"../bower_components/paper/src/basic/Matrix",point:"../bower_components/paper/src/basic/Point",rectangle:"../bower_components/paper/src/basic/Rectangle",size:"../bower_components/paper/src/basic/Size",hammer:"../bower_components/hammerjs/hammer"},shim:{angular:{exports:"angular"},"angular-route":{deps:["angular"]},"angular-resource":{deps:["angular"]},jquery:{exports:"$"},hammer:{exports:"Hammer"},straps:{exports:"Base"},paper:{deps:["straps"]},formatter:{exports:"Formatter",deps:["paper"]},point:{exports:"Point",deps:["paper","formatter"]},matrix:{exports:"Matrix",deps:["paper","formatter"]},rectangle:{exports:"Rectangle",deps:["paper","formatter"]},size:{exports:"Size",deps:["paper","formatter"]}}}),define("app",["angular","angular-resource","angular-route"],function(a){var b=a.module("app-example",["ngResource","ngRoute"]);return b}),define("services/events",["app","hammer"],function(a){a.service(["events",function(){}])}),define("directives/zoom",["app","matrix","rectangle","point","size","hammer","services/events"],function(a,b,c,d,e,f){a.directive("pfZoom",["$log","$window",function(a,b){return function(g,h,i){a.info(i);var j=angular.element(b),k=function(a,b,c){return Math.min(Math.max(a,b),c)},l=function(a,b,c){return a.set(k(a.x,b.x,c.x),k(a.y,b.y,c.y)),a},m=h,n=h.parent();g.style={},g.rect={};var o=f(h[0]),p=function(){g.bounds=new c(n[0].offsetLeft,n[0].offsetTop,n[0].offsetWidth,n[0].offsetHeight),g.rect=new c(0,0,h[0].clientWidth,h[0].clientHeight);var a=g.bounds.size.divide(g.rect.size),b=Math.min(a.width,a.height);g.size=new e(h[0].clientWidth,h[0].clientHeight),g.minScale=new e(b,b),g.scale=b,g.rect.setCenter(g.bounds.center),g.topLeft=g.rect.topLeft,g.clamp=g.rect.topLeft.clone(),g.clampRect=new c(g.clamp,g.rect.size),g.$apply()};h.on("load",p),j.on("resize",p),o.on("dragstart",function(a){a.preventDefault(),a.gesture&&g.$apply(function(){g.start=new d(g.topLeft)})}),o.on("drag",function(a){a.preventDefault(),a.gesture&&g.$apply(function(){g.topLeft=g.start.add(a.gesture.deltaX,a.gesture.deltaY)})}),o.on("mousewheel",function(a){a.preventDefault();var b=k(a.wheelDelta,-1,1),c=k((g.scale||1)+.1*b,Math.min(g.minScale.height,g.minScale.width),5),e=new d(a.clientX,a.clientY).subtract(g.bounds.center).multiply(c-g.scale).multiply(c);g.$apply(function(){g.scale=c,g.topLeft=g.topLeft.subtract(e)})}),g.$watch("topLeft",function(a,b){null!==a&&a!==b&&(a=l(a,g.clampRect.topLeft,g.clampRect.bottomRight),g.rect.setTopLeft(a.x,a.y),g.style.translate="translate("+a.x+"px,"+a.y+"px)")}),g.$watch("scale",function(b,c){if(1/0!=b&&c!==b){a.info("scale",b),g.rect.size=g.size.multiply(b);var d=g.bounds.size.subtract(g.rect.size);d.width=Math.min(d.width,0),d.height=Math.min(d.height,0),g.clampRect.setSize(d.abs()),g.clampRect.setTopLeft(g.clamp.x+d.width/2,g.clamp.y+d.height/2),g.style.scale="scale("+b+")"}}),g.$watch("style",function(a,b){null!==a&&a!==b&&(m[0].style.WebkitTransform=[a.translate,a.scale].join(" "))},!0)}}])}),define("controllers/creeper",["config"],function(a){a.controller("CreeperCtrl",["$scope",function(){}])});